{"version":3,"sources":["api/index.js"],"names":["handler","apiMethod","req","res","next","url","path","query","body","user","Object","keys","length","console","log","fetchUser","fetchAllProjects","fetchOngoingProjects","fetchRecommendedProjects","fetchWishProjects","fetchProjectDetail","fetchRecentPosts","fetchPopularPosts","fetchUserProjectDetail","createNewProject","createNewUserProject","record","like","report","wish","payment","paymentCancel"],"mappings":";;;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAGA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA;AAtBA;AAuBA,IAAMA,UAAU,SAAVA,OAAU,CAACC,SAAD,EAAa;AAC3B,SAAO,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACzB,QAAIC,MAAMH,IAAII,IAAd;AACA,QAAIC,QAAQL,IAAIK,KAAhB;AACA,QAAIC,OAAON,IAAIM,IAAf;AACA,QAAIC,OAAOP,IAAIO,IAAf;;AAEA;AACA,QAAIC,OAAOC,IAAP,CAAYH,IAAZ,EAAkBI,MAAlB,KAA2B,CAA/B,EAAiC;AAC/BC,cAAQC,GAAR,CAAY,kBAAZ,EAAgCT,GAAhC,EAAqCE,KAArC,EAA4C,IAA5C,EAAkDE,IAAlD;AACAR,gBAAUQ,IAAV,EAAgBF,KAAhB,EAAuBJ,GAAvB;AACD,KAHD,MAGO;AACLU,cAAQC,GAAR,CAAY,kBAAZ,EAAgCT,GAAhC,EAAqCE,KAArC,EAA4C,UAA5C,EAAwDC,IAAxD,EAA8D,IAA9D,EAAoEC,IAApE;AACAR,gBAAUQ,IAAV,EAAgBF,KAAhB,EAAuBC,IAAvB,EAA6BL,GAA7B;AACD;AACF,GAdD;AAeD,CAhBD;;AAZA;kBA8Be;AACbH,WAASA,OADI;AAEbe,gCAFa;AAGbC,8CAHa;AAIbC,sDAJa;AAKbC,8DALa;AAMbC,gDANa;AAObC,kDAPa;AAQbC,8CARa;AASbC,gDATa;AAUbC,0DAVa;AAWbC,8CAXa;AAYbC,sDAZa;AAabC,0BAba;AAcbC,sBAda;AAebC,0BAfa;AAgBbC,sBAhBa;AAiBbpB,sBAjBa;AAkBbqB,4BAlBa;AAmBbC;AAnBa,C","file":"api/index.js","sourcesContent":["/* data fetching */\nimport fetchUser from \"./fetchUser\";\nimport fetchAllProjects from \"./fetchAllProjects\";\nimport fetchOngoingProjects from \"./fetchOngoingProjects\";\nimport fetchRecommendedProjects from \"./fetchRecommendedProjects\";\nimport fetchWishProjects from \"./fetchWishProjects\";\nimport fetchProjectDetail from \"./fetchProjectDetail\";\nimport fetchUserProjectDetail from \"./fetchUserProjectDetail\";\nimport fetchRecentPosts from \"./fetchRecentPosts\";\nimport fetchPopularPosts from \"./fetchPopularPosts\";\n\n/* data create */\nimport createNewProject from \"./createNewProject\";\nimport createNewUserProject from \"./createNewUserProject\";\nimport record from \"./record\";\nimport like from \"./like\";\nimport report from \"./report\";\nimport wish from \"./wish\";\nimport user from \"./user\";\nimport payment from \"./payment\";\nimport paymentCancel from \"./paymentCancel\";\n\n/* handler */\nconst handler = (apiMethod)=>{\n  return (req, res, next) => {\n    let url = req.path;\n    let query = req.query;\n    let body = req.body;\n    let user = req.user;\n\n    /* check the req's method by extract the keys of Object 'data' */\n    if (Object.keys(body).length===0){\n      console.log(\"Request GET for \", url, query, \"by\", user);\n      apiMethod(user, query, res);\n    } else {\n      console.log(\"Request POST to \", url, query, \"to write\", body, \"by\", user);\n      apiMethod(user, query, body, res);\n    }\n  };\n};\n\nexport default {\n  handler: handler,\n  fetchUser: fetchUser,\n  fetchAllProjects: fetchAllProjects,\n  fetchOngoingProjects: fetchOngoingProjects,\n  fetchRecommendedProjects: fetchRecommendedProjects,\n  fetchWishProjects: fetchWishProjects,\n  fetchProjectDetail: fetchProjectDetail,\n  fetchRecentPosts: fetchRecentPosts,\n  fetchPopularPosts: fetchPopularPosts,\n  fetchUserProjectDetail: fetchUserProjectDetail,\n  createNewProject: createNewProject,\n  createNewUserProject: createNewUserProject,\n  record: record,\n  like: like,\n  report: report,\n  wish: wish,\n  user: user,\n  payment: payment,\n  paymentCancel: paymentCancel\n};\n"],"sourceRoot":"/source/"}