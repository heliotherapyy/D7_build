{"version":3,"sources":["api/auth/signup.js"],"names":["signup","req","res","next","User","email","body","password","username","save","then","user","console","log","login","err","status","json","message","catch"],"mappings":";;;;;;AACA;;;;;;AAEA,IAAMA,SAAS,SAATA,MAAS,GAAM;AACnB,SAAO,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACzB,QAAI,iBAAMC,IAAV,CAAe,EAACC,OAAOJ,IAAIK,IAAJ,CAASD,KAAjB,EAAwBE,UAAUN,IAAIK,IAAJ,CAASC,QAA3C,EAAqDC,UAAUP,IAAIK,IAAJ,CAASE,QAAxE,EAAf,EAAkGC,IAAlG,GACCC,IADD,CACM,UAACC,IAAD,EAAU;AACdC,cAAQC,GAAR,CAAYF,IAAZ;AACAV,UAAIa,KAAJ,CAAUH,IAAV,EAAgB,UAACI,GAAD,EAAO;AACrB,YAAG,CAACA,GAAJ,EAAQ;AACN,iBAAOb,IAAIc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,SAAS,uCAAX,EAArB,CAAP;AACD,SAFD,MAEO;AACL,iBAAOhB,IAAIc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,SAAS,uGAAX,EAArB,CAAP;AACD;AACF,OAND;AAOD,KAVD,EAWCC,KAXD,CAWO,UAACJ,GAAD,EAAS;AACd,aAAOb,IAAIc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,SAAS,6DAAX,EAArB,CAAP;AACD,KAbD;AAcD,GAfD;AAgBD,CAjBD,C,CAHA;kBAsBelB,M","file":"api/auth/signup.js","sourcesContent":["/* Passport Signup Handler */\nimport model from \"../../db/models\";\n\nconst signup = () => {\n  return (req, res, next) => {\n    new model.User({email: req.body.email, password: req.body.password, username: req.body.username}).save()\n    .then((user) => {\n      console.log(user);\n      req.login(user, (err)=>{\n        if(!err){\n          return res.status(200).json({ message: \"You have been successfully signed in.\" });\n        } else {\n          return res.status(401).json({ message: \"You have been successfully signed up but there is something wrong logging in. Please try login again.\" });\n        }\n      });\n    })\n    .catch((err) => {\n      return res.status(401).json({ message: \"This email is already registered. Please try another email.\" });\n    });\n  };\n};\n\nexport default signup;\n"],"sourceRoot":"/source/"}