{"version":3,"sources":["router.js"],"names":["router","Router","handler","fetchUser","fetchAllProjects","fetchOngoingProjects","fetchRecommendedProjects","fetchWishProjects","fetchProjectDetail","fetchRecentPosts","fetchPopularPosts","fetchUserProjectDetail","createNewProject","createNewUserProject","record","like","report","wish","user","payment","paymentCancel","isAuthenticated","req","res","next","console","log","status","json","path","post","get","redirect"],"mappings":"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","file":"router.js","sourcesContent":["import express from \"express\";\nconst router = express.Router();\n\n/* Load api Handler Methods */\nimport api from \"./api\";\nvar { handler, fetchUser, fetchAllProjects, fetchOngoingProjects, fetchRecommendedProjects, fetchWishProjects, fetchProjectDetail, fetchRecentPosts, fetchPopularPosts, fetchUserProjectDetail, createNewProject, createNewUserProject, record, like, report, wish, user, payment, paymentCancel } = api;\n\n\n/* Authentication checking middleware */\nconst isAuthenticated = (req, res, next) => {\n  if (req.user){\n    console.log(\">>>>>>>>>>>>\",req.user);\n    return next();\n  } else {\n    // res.redirect(\"/\");\n    res.status(401).json({path: \"/\"});\n  }\n};\n\n/* Passport import */\nimport passport from \"passport\";\nimport LocalStrategy from \"passport-local\";\nimport model from \"./db/models\";\nimport bcrypt from \"bcryptjs\";\n\n\n/* Passport Strategies */\nimport localSetup from \"./helpers/passport_setup/local\";\n\n\n/* Passport local setting */\nlocalSetup();\n\n\n/* Passport Facebook setting */\n// some code\n\n\n/* Passport Google setting */\n// some code\n\n\n/* Passport Authentication APIs */\nimport login from \"./api/auth/login\";\nimport signup from \"./api/auth/signup\";\nimport logout from \"./api/auth/logout\";\nimport checkLogin from \"./api/auth/checkLogin\";\n\nrouter.post(\"/api/signup\", signup());\nrouter.post(\"/api/login\", login());\nrouter.get(\"/api/logout\", isAuthenticated, logout());\nrouter.get(\"/api/checklogin\", checkLogin());\n\n\n/* Data save/fetch APIs */\nrouter.get(\"/api/user\", isAuthenticated, handler(fetchUser));\nrouter.get(\"/api/posts/popular\", isAuthenticated, handler(fetchPopularPosts));\nrouter.get(\"/api/posts/recent\", isAuthenticated, handler(fetchRecentPosts));\nrouter.get(\"/api/userproject\", isAuthenticated, handler(fetchUserProjectDetail));\nrouter.get(\"/api/projects/all\", isAuthenticated, handler(fetchAllProjects));\nrouter.get(\"/api/projects/ongoing\", isAuthenticated, handler(fetchOngoingProjects));\nrouter.get(\"/api/projects/recommended\", isAuthenticated, handler(fetchRecommendedProjects));\nrouter.get(\"/api/projects/wish\", isAuthenticated, handler(fetchWishProjects));\nrouter.get(\"/api/project\", isAuthenticated, handler(fetchProjectDetail));\n\nrouter.post(\"/api/record\", isAuthenticated, handler(record));\nrouter.post(\"/api/newproject\", isAuthenticated, handler(createNewProject));\nrouter.post(\"/api/newuserproject\", isAuthenticated, handler(createNewUserProject));\nrouter.post(\"/api/like\", isAuthenticated, handler(like));\nrouter.post(\"/api/report\", isAuthenticated, handler(report));\nrouter.post(\"/api/wish\", isAuthenticated, handler(wish));\nrouter.post(\"/api/user\", isAuthenticated, handler(user));\n\nrouter.post(\"/api/payment\", isAuthenticated, handler(payment));\nrouter.post(\"/api/paymentcancel\", isAuthenticated, handler(paymentCancel));\n\n/* Rest */\nrouter.get(\"*\", (req, res, next) => {\n  res.redirect(\"/\");\n});\n\nexport default router;\n"],"sourceRoot":"/source/"}